<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>D3 Test</title>
		<script type="text/javascript" src="d3/d3.js"></script>
		<style type="text/css">
			svg {
				display: block;
				margin: auto;
			}
		</style>
	</head>
	<body>
    <script type="text/javascript">
			//set up svg first
			var w = 300,
					h = 600;
			var svg = d3.select("body").append("svg")
									.attr("width", w)
									.attr("height", h)
			svg.append("text");

			function update() {
				//get time
				var date = new Date();
				var hours = date.getHours();
				var mins = date.getMinutes();
				var secs = date.getSeconds();
				if (secs < 10) {
					secs = "0"+secs;
				}
				if (mins < 10) {
					mins = "0"+mins;
				}
				if (hours < 10) {
					hours = "0"+hours;
				}
				var string = "#";
				string += hours;
				string += mins;
				string += secs;

				//update body
				d3.select("body")
						.transition().duration(1000).ease("linear")
						.style("background-color", string);

				//update text
				svg.select("text")
						.text(hours + ":" + mins + ":" + secs)
						.attr("x", w/2)
						.attr("y", h/2)
						.attr("font-family", "arial")
						.attr("font-size", "50")
						.attr("fill", "white")
						.attr("text-anchor", "middle");
			}
			update();
			setInterval(function() {
						update();
					}, 1000);

    </script>
  </body>
</html>
